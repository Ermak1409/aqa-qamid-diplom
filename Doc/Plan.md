# План автоматизации тестирования
## Перечень автоматизируемых сценариев:
### Исходные данные:
- Адрес страницы покупки тура http://localhost:8080/
- APPROVED карта - 1111 2222 3333 4444
- DECLINED карта - 5555 6666 7777 8888

### Валидные данные:
 - Номер карты 16 цифр - используется значение Approved или Declined карты.
 - ФИО владельца - содержит латинские буквы, не содержит спецсимволы ("#","?", и др.), длина более 2-х символов.
 - Месяц - содержит номер месяца в 2-х значном формате (01, 02... - ...12), больше или равен текущему месяцу, если в поле год указан текущий.
 - Год - содержит номер года в 2-х значном формате (22, 23, и т.д.), равен или больше текущего, но не более чем на 4 года (срок действия карты).
 - CVC код - содержит цифры в 3-х значном формате (001, 002... - ...998, 999).


### Позитивные сценарии:
1. **Оплата картой:**
    - **Открыть** [страницу покупки тура] -> кликнуть кнопку "Купить" (оплата картой) -> в появившихся полях ввести валидные данные (APPROVED карта) -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные успешно отправлены;
        - данные о способе и результате (успешно/не успешно) платежа, сохранены в соответсвующей таблице БД ("payment_entity").
        - появится всплывающее окно об одобрении операции банком.

    - **Открыть** [страницу покупки тура] -> кликнуть кнопку "Купить" (оплата картой) -> в появившихся полях ввести валидные данные (DECLINED карта) -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные успешно отправлены;
        - данные о способе и результате (успешно/не успешно) платежа, сохранены в соответсвующей таблице БД ("payment_entity").
        - появится всплывающее окно об отклонении операции банком.
        
2. **Покупка в кредит:**
    - **Открыть** [страницу покупки тура] -> кликнуть кнопку "Купить в кредит" -> в появившихся полях ввести валидные данные (APPROVED карта) -> кликнуть кнопку "Продолжить";      
      `Результат:`
        - данные успешно отправлены;
        - данные о способе и результате (успешно/не успешно) платежа, сохранены в соответсвующей таблице БД ("credit_request_entity").
        - появится всплывающее окно об одобрении операции банком.
        
    - **Открыть** [страницу покупки тура] -> кликнуть кнопку "Купить в кредит" -> в появившихся полях ввести валидные данные (DECLINED карта) -> кликнуть кнопку "Продолжить";      
      `Результат:`
        - данные успешно отправлены;
        - данные о способе и результате (успешно/не успешно) платежа, сохранены в соответсвующей таблице БД ("credit_request_entity").
        - появится всплывающее окно об отклонении операции банком.
        
### Негативные сценарии:
1. **Пустая форма:**
    - **Открыть** [страницу покупки тура] -> кликнуть кнопку "Купить" (оплата картой) -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Номер карты" появится сообщение `Неверный формат`;
        - под полем "Месяц" появится сообщение `Неверный формат`;
        - под полем "Год" появится сообщение `Неверный формат`;
        - под полем "Владелец" появится сообщение `Поле обязательно для заполнения`;
        - под полем "CVC/CVV" появится сообщение `Неверный формат`.
        
2. **Поле "Номер карты":**
    - **Открыть** [страницу покупки тура] -> кликнуть кнопку "Купить" (оплата картой) -> поле "Номер карты" **оставить пустым**, остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Номер карты" появится сообщение `Неверный формат`.
        
    - **Открыть** [страницу покупки тура] -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Номер карты" **ввести не полный номер** (1111 2222 3333 444), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Номер карты" появится сообщение `Неверный формат`.
        
    - **Открыть** [страницу покупки тура] -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Номер карты" **ввести не валидный номер** (0000 0000 0000 0000), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные успешно отправлены;
        - под полем "Номер карты" появится сообщение `Неверный формат`.
        
3. **Поле "Месяц":**
    - **Открыть** [страницу покупки тура] -> кликнуть кнопку "Купить" (оплата картой) -> поле "Месяц" **оставить пустым**, остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Месяц" появится сообщение `Неверный формат`.
        
    - **Открыть** [страницу покупки тура] -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Месяц" **ввести не валидный месяц** (номер месяца меньше текущего), поле "Год" ввести текущий год,  остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Месяц" появится сообщение `Неверно указан срок действия карты`.
        
    - **Открыть** [страницу покупки тура] -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Месяц" **ввести не валидный месяц** (нижнее граничное значение 00), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Месяц" появится сообщение `Неверно указан срок действия карты`.
        
    - **Открыть** [страницу покупки тура] -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Месяц" **ввести не валидный месяц** (верхнее граничное значение 13), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Месяц" появится сообщение `Неверно указан срок действия карты`.
        
4. **Поле "Год":**
    - **Открыть** [страницу покупки тура] -> кликнуть кнопку "Купить" (оплата картой) -> поле "Год" **оставить пустым**, остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Год" появится сообщение `Неверный формат`.
        
    - **Открыть** [страницу покупки тура] -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Год" **ввести не валидный год** (текущий год - 1), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Год" появится сообщение `Истёк срок действия карты`.

- **Открыть** [страницу покупки тура] -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Год" **ввести не валидный год** (00), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Год" появится сообщение `Истёк срок действия карты`.
        
    - **Открыть** [страницу покупки тура] -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Год" **ввести не валидный год** (текущий год + 6), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Год" появится сообщение `Неверно указан срок действия карты`.
        
5. **Поле "Владелец":**
    - **Открыть** [страницу покупки тура] -> кликнуть кнопку "Купить" (оплата картой) -> поле "Владелец" **оставить пустым**, остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Владелец" появится сообщение `Поле обязательно для заполнения`.
        
    - **Открыть** [страницу покупки тура] -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Владелец" **ввести " "**(пробел), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Владелец" появится сообщение `Поле обязательно для заполнения`.

    - **Открыть** [страницу покупки тура] -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Владелец" добавить к данным спецсимвол, остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Владелец" появится сообщение `Неверный формат имени владельца`.
        
    - **Открыть** [страницу покупки тура] -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Владелец" **заполнить данные кириллицей** , остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Владелец" появится сообщение `Неверный формат имени владельца`.
    
    - **Открыть** [страницу покупки тура] -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Владелец" **заполнить данные цифрами** , остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Владелец" появится сообщение `Неверный формат имени владельца`.
        
6. **Поле "CVC/CVV":**
    - **Открыть** [страницу покупки тура] -> кликнуть кнопку "Купить" (оплата картой) -> поле "CVC/CVV" **оставить пустым**, остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "CVC/CVV" появится сообщение `Неверный формат`.
        
    - **Открыть** [страницу покупки тура] -> кликнуть кнопку "Купить" (оплата картой) -> в поле "CVC/CVV" **ввести двузначное число**(10-99), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "CVC/CVV" появится сообщение `Неверный формат`.
        
      - **Открыть** [страницу покупки тура] -> кликнуть кнопку "Купить" (оплата картой) -> в поле "CVC/CVV" **ввести "000"**, остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "CVC/CVV" появится сообщение `Неверный формат`.  
        
- **`Аналогичные негативные сценарии для покупки в кредит.`**
## Перечень используемых инструментов с обоснованием выбора:
- JDK 11, т.к. будет использоваться Java;
- IntelliJ IDEA, удобная среда подготовки авто-тестов;
- Gradle, инструмент управления зависимостями;
- JUnit Jupiter, инструмент тестирования;
- Selenide, очень удобен при тестировании веб-интерфейса;
- Lombok, для упрощения написания кода;
- Faker, для генерации данных при отправке формы;
- Github, в качестве хранилища SUT и авто-тестов;
- Allure, для создания отчетов о выполнении авто-тестов;
- Allure-Selenide, для интеграции одного инструментов.
## Перечень и описание возможных рисков при автоматизации:
- Отсутствие ТЗ и спецификации на приложение;
- Необходимость добавления новых тестов для заказчика, при отсутствии документации и спецификации на приложение;
- Зависимость авто-тестов от текущей реализации веб-элементов, даже не значительное их изменение может привести к падению авто-тестов;
- Авто-тесты не проверяют графическую составляющую.
## Интервальная оценка с учётом рисков (в часах):
- Ориентировочно, 92 рабочих часа.
## План сдачи работ (когда будут авто-тесты, результаты их прогона и отчёт по автоматизации):
1. Написание тестов до 28 мая 2022;
2. Предоставление отчетов до 31 мая 2022:
- Подготовка к проведению тестирования (запуск SUT, подготовка плана автоматизации) - 8 часов;
- Написание и прогон авто-тестов - 48 часов;
- Написание баг-репортов - 10 часов;
- Оформление отчёта по итогам тестирования - 10 часов;
- Оформление отчёта по итогам автоматизации - 16 часов.
